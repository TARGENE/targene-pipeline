<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing · TarGene</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://TARGENE.github.io/targene-pipeline/contribution_guide/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TarGene</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../data_sources/">Setting a data source</a></li><li><a class="tocitem" href="../confounding_adjustment/">Adjusting for confounders</a></li><li><a class="tocitem" href="../parameter_specification/">Describing the causal parameters of interest</a></li><li><a class="tocitem" href="../tmle/">Specifying a Targeted Estimator</a></li><li><a class="tocitem" href="../sieve_variance/">Correcting for population relatedness</a></li><li><a class="tocitem" href="../miscellaneous/">Tweaking additional behaviour</a></li><li><a class="tocitem" href="../negative_control/">Running negative control checks</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../nextflow_params/">Index of the pipeline parameters</a></li><li><a class="tocitem" href="../runtime_considerations/">Some Runtime considerations</a></li></ul></li><li><span class="tocitem">Developper Guide</span><ul><li><a class="tocitem" href="../project_organization/">Project Organization</a></li><li class="is-active"><a class="tocitem" href>Contributing</a><ul class="internal"><li><a class="tocitem" href="#Raise-an-issue"><span>Raise an issue</span></a></li><li><a class="tocitem" href="#Workflow"><span>Workflow</span></a></li><li><a class="tocitem" href="#Note-on-Docker-images"><span>Note on Docker images</span></a></li><li><a class="tocitem" href="#Note-on-the-pipeline&#39;s-tests"><span>Note on the pipeline&#39;s tests</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../associated_softwares/">Associated Softwares</a></li><li><a class="tocitem" href="../publications/">Related Publications</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developper Guide</a></li><li class="is-active"><a href>Contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contributing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/TARGENE/targene-pipeline/blob/main/docs/src/contribution_guide.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Contributing"><a class="docs-heading-anchor" href="#Contributing">Contributing</a><a id="Contributing-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing" title="Permalink"></a></h1><p>Contributions, whether bug fixes, new features or documentation improvements are very welcome!</p><h2 id="Raise-an-issue"><a class="docs-heading-anchor" href="#Raise-an-issue">Raise an issue</a><a id="Raise-an-issue-1"></a><a class="docs-heading-anchor-permalink" href="#Raise-an-issue" title="Permalink"></a></h2><p>In order to discuss and track the evolution of the project, please first raise an issue on the <a href="https://github.com/TARGENE/targene-pipeline/issues">targene-pipeline</a> repository. If a change is agreed upon, the discussion should identify the relevant repositories that are concerned by the change and open an issue on each of the repository. For instance, if one wishes to improve the extraction of traits from the UK-Biobank, the <a href="https://github.com/TARGENE/UKBMain.jl">UKBMain.jl</a> would surely be impacted and a new release for that package necessary.</p><h2 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h2><p>Following our previous UKBMain.jl example, there are two repositories tha need to be updated, the current workflow is as follows:</p><ol><li>Develop<ul><li>UKBMain.jl<ul><li>Create a new git branch for your change</li><li>Develop and test</li><li>Release an image for your branch by selecting it after clicking the <a href="https://github.com/TARGENE/UKBMain.jl/actions/workflows/Release.yml">Run workflow button</a>. If the tests pass, a new docker image will be generated and hosted on Docker hub with your branch&#39;s name (see <a href="#Note-on-Docker-images">Note on Docker images</a>).</li></ul></li><li>targene-pipeline<ul><li>Create a new git branch for your change</li><li>For each Nextflow process using the UKBMain.jl&#39;s docker image, update to the branch&#39;s image name.</li><li>Develop further required changes and run/add the tests (see <a href="#Note-on-the-pipeline&#39;s-tests">Note on the pipeline&#39;s tests</a>).</li></ul></li></ul></li><li>Review: When everything is working, ask for a review</li><li>Release UKBMain.jl:<ul><li>Merge your branch into main</li><li>Create a new Github release following semantic versioning, this will create a new docker image with your release name.</li></ul></li><li>Release TarGene<ul><li>For each Nextflow process using the UKBMain.jl&#39;s docker image, update to the released image name (as before).</li><li>Create a new Github release following semantic versioning</li></ul></li></ol><h2 id="Note-on-Docker-images"><a class="docs-heading-anchor" href="#Note-on-Docker-images">Note on Docker images</a><a id="Note-on-Docker-images-1"></a><a class="docs-heading-anchor-permalink" href="#Note-on-Docker-images" title="Permalink"></a></h2><p>Currently, all TarGene building blocks (executables) are provided as docker images. The following table provides a map linking each TarGene repository to the associated Docker image tags.</p><table><tr><th style="text-align: right">Repository</th><th style="text-align: right">Docker tag</th></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/TargeneCore.jl">TargeneCore.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/tl-core/tags">tl-core</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/UKBMain.jl">UKBMain.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/ukbmain/tags">ukbmain</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/TargetedEstimation.jl">TargetedEstimation.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/targeted-estimation/tags">targeted-estimation</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/NegativeControl.jl">NegativeControl.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/negative-controls/tags">negative-controls</a></td></tr></table><h2 id="Note-on-the-pipeline&#39;s-tests"><a class="docs-heading-anchor" href="#Note-on-the-pipeline&#39;s-tests">Note on the pipeline&#39;s tests</a><a id="Note-on-the-pipeline&#39;s-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Note-on-the-pipeline&#39;s-tests" title="Permalink"></a></h2><p>The pipeline is automatically tested for every push/pull-request made to the github repository. The tests will require that Julia and the container engine of your choice be installed (see below). We currently have a suite of two tests corresponding to the two main usages of the pipeline. They can be run locally as follows:</p><pre><code class="language-bash hljs">julia --project=test --startup-file=no test/from_param_files.jl -profile PROFILE -resume</code></pre><p>and</p><pre><code class="language-bash hljs">julia --project=test --startup-file=no test/from_actors.jl -profile PROFILE -resume</code></pre><p>where <code>PROFILE</code> is one of: &#39;local&#39; (local with singularity engine), &#39;ci&#39; (local with singularity engine), &#39;eddie&#39; (SGE with singularity engine.).</p><p>The tests can also be run interactively via the Julia REPL.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../project_organization/">« Project Organization</a><a class="docs-footer-nextpage" href="../associated_softwares/">Associated Softwares »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 31 July 2023 21:12">Monday 31 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
