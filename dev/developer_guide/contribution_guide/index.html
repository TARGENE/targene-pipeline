<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing · TarGene</title><meta name="title" content="Contributing · TarGene"/><meta property="og:title" content="Contributing · TarGene"/><meta property="twitter:title" content="Contributing · TarGene"/><meta name="description" content="Documentation for TarGene."/><meta property="og:description" content="Documentation for TarGene."/><meta property="twitter:description" content="Documentation for TarGene."/><meta property="og:url" content="https://TARGENE.github.io/targene-pipeline/developer_guide/contribution_guide/"/><meta property="twitter:url" content="https://TARGENE.github.io/targene-pipeline/developer_guide/contribution_guide/"/><link rel="canonical" href="https://TARGENE.github.io/targene-pipeline/developer_guide/contribution_guide/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TarGene</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/setup/">Setup (Read First)</a></li><li><a class="tocitem" href="../../examples/gwas/">GWAS</a></li><li><a class="tocitem" href="../../examples/phewas/">PheWAS</a></li><li><a class="tocitem" href="../../examples/interactions/">Interaction Study</a></li><li><a class="tocitem" href="../../examples/allofus/">All of Us</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../overview/">Nextflow Basics</a></li><li><a class="tocitem" href="../../all_workflows_parameters/">Index of Workflows Parameters</a></li><li><a class="tocitem" href="../../runtime_considerations/">Some Runtime considerations</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">The Discovery Workflow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../targene/overview/">Overview</a></li><li><a class="tocitem" href="../../targene/data_sources/">Genetic and Traits Data</a></li><li><a class="tocitem" href="../../targene/confounding_adjustment/">PCA Adjustment</a></li><li><a class="tocitem" href="../../targene/study_designs/">Defining the Estimands of Interest</a></li><li><a class="tocitem" href="../../targene/tmle/">Specifying a Targeted Estimator</a></li><li><a class="tocitem" href="../../targene/sieve_variance/">Correcting for population relatedness (Experimental)</a></li><li><a class="tocitem" href="../../targene/miscellaneous/">Final Tweaks</a></li><li><a class="tocitem" href="../../targene/outputs/">Understanding TarGene&#39;s Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">The Simulation Workflows (Experimental)</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../simulations/overview/">Overview</a></li><li><a class="tocitem" href="../../simulations/null_simulation/">Null Simulation</a></li><li><a class="tocitem" href="../../simulations/realistic_simulation/">Realistic Simulation</a></li><li><a class="tocitem" href="../../simulations/simulation_outputs/">Description of Simulations Outputs</a></li></ul></li></ul></li><li><span class="tocitem">Secondary Workflows</span><ul><li><a class="tocitem" href="../../secondary_workflows/pca/">The PCA Workflow</a></li><li><a class="tocitem" href="../../secondary_workflows/make_dataset/">The Make Dataset Workflow</a></li></ul></li><li><span class="tocitem">Developper Guide</span><ul><li><a class="tocitem" href="../project_organization/">Project Organization</a></li><li class="is-active"><a class="tocitem" href>Contributing</a><ul class="internal"><li><a class="tocitem" href="#Raise-an-issue"><span>Raise an issue</span></a></li><li><a class="tocitem" href="#Suggested-Development-Workflow"><span>Suggested Development Workflow</span></a></li><li><a class="tocitem" href="#Docker-Images"><span>Docker Images</span></a></li><li><a class="tocitem" href="#Workflows-Tests"><span>Workflows Tests</span></a></li><li><a class="tocitem" href="#Working-on-the-Documentation"><span>Working on the Documentation</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developper Guide</a></li><li class="is-active"><a href>Contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contributing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TARGENE/targene-pipeline/blob/main/docs/src/developer_guide/contribution_guide.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Contributing"><a class="docs-heading-anchor" href="#Contributing">Contributing</a><a id="Contributing-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing" title="Permalink"></a></h1><p>Contributions, whether bug fixes, new features or documentation improvements are very welcome!</p><h2 id="Raise-an-issue"><a class="docs-heading-anchor" href="#Raise-an-issue">Raise an issue</a><a id="Raise-an-issue-1"></a><a class="docs-heading-anchor-permalink" href="#Raise-an-issue" title="Permalink"></a></h2><p>In order to discuss and track the evolution of the project, please first raise an issue on the <a href="https://github.com/TARGENE/targene-pipeline/issues">targene-pipeline</a> repository. If a change is agreed upon, the discussion should identify the relevant repositories that are concerned by the change and open an issue on each of the repository. For instance, if one wishes to improve the extraction of traits from the UK-Biobank, the <a href="https://github.com/TARGENE/UKBMain.jl">UKBMain.jl</a> would surely be impacted and a new release for that package necessary.</p><h2 id="Suggested-Development-Workflow"><a class="docs-heading-anchor" href="#Suggested-Development-Workflow">Suggested Development Workflow</a><a id="Suggested-Development-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Suggested-Development-Workflow" title="Permalink"></a></h2><p>Following our previous UKBMain.jl example, there are two repositories that need to be updated, the current workflow is as follows:</p><ol><li>Develop<ul><li>UKBMain.jl<ul><li>Create a new git branch for your change</li><li>Develop and test</li><li>Release an image for your branch by selecting it after clicking the <a href="https://github.com/TARGENE/UKBMain.jl/actions/workflows/Release.yml">Run workflow button</a>. If the tests pass, a new docker image will be generated and hosted on Docker hub with your branch&#39;s name (see <a href="#Docker-Images">Docker Images</a>).</li></ul></li><li>targene-pipeline<ul><li>Create a new git branch for your change</li><li>For each Nextflow process using the UKBMain.jl&#39;s docker image, update to the branch&#39;s image name.</li><li>Develop further required changes and run/add the tests (see <a href="#Workflows-Tests">Workflows Tests</a>).</li></ul></li></ul></li><li>Review: When everything is working, ask for a review</li><li>Release UKBMain.jl:<ul><li>Merge your branch into main</li><li>Create a new Github release following semantic versioning, this will create a new docker image with your release name.</li></ul></li><li>Release TarGene<ul><li>For each Nextflow process using the UKBMain.jl&#39;s docker image, update to the released image name (as before).</li><li>Create a new Github release following semantic versioning</li></ul></li></ol><p><img src="../../assets/ci_cd.png" alt="CI/CD"/></p><h2 id="Docker-Images"><a class="docs-heading-anchor" href="#Docker-Images">Docker Images</a><a id="Docker-Images-1"></a><a class="docs-heading-anchor-permalink" href="#Docker-Images" title="Permalink"></a></h2><p>Currently, all TarGene building blocks (executables) are provided as docker images. The following table provides a map linking each TarGene repository to the associated Docker image tags.</p><table><tr><th style="text-align: right">Repository</th><th style="text-align: right">Docker tag</th></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/TargeneCore.jl">TargeneCore.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/tl-core/tags">tl-core</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/UKBMain.jl">UKBMain.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/ukbmain/tags">ukbmain</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/TMLECLI.jl">TMLECLI.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/targeted-estimation/tags">targeted-estimation</a></td></tr><tr><td style="text-align: right"><a href="https://github.com/TARGENE/Simulations.jl">Simulations.jl</a></td><td style="text-align: right"><a href="https://hub.docker.com/r/olivierlabayle/targene-simulations/tags">targene-simulations</a></td></tr></table><h2 id="Workflows-Tests"><a class="docs-heading-anchor" href="#Workflows-Tests">Workflows Tests</a><a id="Workflows-Tests-1"></a><a class="docs-heading-anchor-permalink" href="#Workflows-Tests" title="Permalink"></a></h2><p>The pipeline is automatically tested for every push/pull-request against a variety of tasks listed in the <code>testrun</code> section of the <a href="https://github.com/TARGENE/targene-pipeline/blob/main/.github/workflows/CI.yml">CI YAML file</a>. To add a new test, you thus need to add a testrun in this section and a corresponding Julia file in the test folder.</p><p>In can also be useful to run the tests locally for debugging. This can be done if you have Nextflow, Julia and Singularity installed and requires a Linux machine. If you have instantiated the <code>test</code> project, a test can be fully run like so:</p><pre><code class="language-bash hljs">julia --project=test --startup-file=no test/TESTFILE -profile local -resume</code></pre><p>Alternatively, within the Julia REPL you can manually run the code sequentially.</p><h2 id="Working-on-the-Documentation"><a class="docs-heading-anchor" href="#Working-on-the-Documentation">Working on the Documentation</a><a id="Working-on-the-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Working-on-the-Documentation" title="Permalink"></a></h2><p>The documentation is built and deployed using <a href="https://documenter.juliadocs.org/stable/">Documenter.jl</a>. It only relies on Markdown files which can simply be edited.</p><p>However, it may be useful to see how your changes will be reflected within the documentation as you are working in real time. For that, you can use the following workflow (steps 1 and 2 are done only once):</p><ol><li>Install <a href="https://julialang.org/">Julia</a></li><li>From the Julia REPL, install in the main Julia environment the <a href="https://tlienart.github.io/LiveServer.jl/dev/">LiveServer</a> package: <code>add LiveServer</code>.</li><li>In the project directory (targene-pipeline) run: <code>julia --startup-file=no --project=docs -e&#39;using LiveServer; servedocs()&#39;</code></li></ol><p>The documentation should be accessible in your browser at <a href="http://localhost:8000/">http://localhost:8000/</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../project_organization/">« Project Organization</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 14 January 2025 13:32">Tuesday 14 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
